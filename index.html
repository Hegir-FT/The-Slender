<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slenderman Horror - P2P Pixel Multiplayer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëª</text></svg>">
</head>
<body>
    <div id="startScreen">
        <div class="title-container">
            <h1 class="pixel-text">SLENDERMAN HORROR</h1>
            <div class="subtitle">P2P –ü–∏–∫—Å–µ–ª—å–Ω—ã–π –•–æ—Ä—Ä–æ—Ä</div>
        </div>
        
        <div class="menu-container">
            <div class="input-group">
                <label for="playerName">–í–ê–®–ï –ò–ú–Ø:</label>
                <input type="text" id="playerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" maxlength="20" value="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å">
            </div>
            
            <div class="room-group">
                <label for="roomCode">–ö–û–î –ö–û–ú–ù–ê–¢–´:</label>
                <div class="room-input">
                    <input type="text" id="roomCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º" maxlength="6">
                    <button id="joinRoom">–ü–†–ò–°–û–ï–î–ò–ù–ò–¢–¨–°–Ø</button>
                </div>
                <button id="createRoom">–°–û–ó–î–ê–¢–¨ –ù–û–í–£–Æ –ö–û–ú–ù–ê–¢–£</button>
            </div>
            
            <div id="roomInfo" class="hidden">
                <p>–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã: <span id="roomIdDisplay">XXXXXX</span></p>
                <button id="copyLink" class="copy-btn">
                    üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –¥—Ä—É–∑–µ–π
                </button>
                <p class="small-text">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º, —á—Ç–æ–±—ã –æ–Ω–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å</p>
            </div>
            
            <button id="startButton" class="start-btn">–ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
        </div>
        
        <div class="instructions">
            <h3>üéÆ –£–ü–†–ê–í–õ–ï–ù–ò–ï:</h3>
            <p>‚Ä¢ WASD –∏–ª–∏ —Å—Ç—Ä–µ–ª–∫–∏ - –¥–≤–∏–∂–µ–Ω–∏–µ</p>
            <p>‚Ä¢ Enter - –æ—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</p>
            <p>‚Ä¢ Esc - –ø–∞—É–∑–∞</p>
            
            <h3>üéØ –¶–ï–õ–¨:</h3>
            <p>‚Ä¢ –°–æ–±–µ—Ä–∏—Ç–µ 8 —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø–æ–±–µ–¥—ã</p>
            <p>‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω–∞</p>
            <p>‚Ä¢ –†–∞–±–æ—Ç–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏</p>
            
            <h3>‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï:</h3>
            <p class="warning">–ò–≥—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –≤–Ω–µ–∑–∞–ø–Ω—ã–µ –ø—É–≥–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã!</p>
        </div>
        
        <div class="loading hidden" id="loading">
            <div class="spinner"></div>
            <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ P2P —Å–µ—Ç–∏...</p>
        </div>
    </div>

    <div id="gameContainer" class="hidden">
        <div class="game-header">
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">–ò–ì–†–û–ö–ò:</span>
                    <span id="playerCount" class="stat-value">1</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–°–¢–†–ê–ù–ò–¶–´:</span>
                    <span id="pageCount" class="stat-value">0/8</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ü–ò–ù–ì:</span>
                    <span id="ping" class="stat-value">-</span>
                </div>
            </div>
            
            <div class="room-info">
                <span>–ö–û–ú–ù–ê–¢–ê: <span id="gameRoomId">XXXXXX</span></span>
                <button id="leaveGame" class="small-btn">–ü–æ–∫–∏–Ω—É—Ç—å</button>
            </div>
        </div>
        
        <div class="game-wrapper">
            <canvas id="gameCanvas"></canvas>
            
            <div class="side-panel">
                <div class="player-list-container">
                    <h3>üë• –ò–ì–†–û–ö–ò –û–ù–õ–ê–ô–ù</h3>
                    <div id="playerList" class="player-list">
                        <div class="player-item">
                            <div class="player-color" style="background: #ff5555"></div>
                            <span>–í—ã (Host)</span>
                            <span class="pages">[0/8]</span>
                        </div>
                    </div>
                </div>
                
                <div class="chat-container">
                    <h3>üí¨ –ß–ê–¢</h3>
                    <div id="chatMessages" class="chat-messages">
                        <div class="system-msg">–°–∏—Å—Ç–µ–º–∞: –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!</div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." maxlength="100">
                        <button id="sendChat" class="send-btn">–û—Ç–ø—Ä.</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="slendermanWarning" class="warning-overlay hidden">
            <div class="warning-content">
                <h2 class="blink">‚ö†Ô∏è –°–õ–ï–ù–î–ï–†–ú–ï–ù –ë–õ–ò–ó–ö–û! ‚ö†Ô∏è</h2>
                <p>–û–Ω –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç...</p>
            </div>
        </div>
        
        <div id="staticEffect" class="static-overlay hidden"></div>
        
        <div id="pauseMenu" class="pause-menu hidden">
            <h2>–ü–ê–£–ó–ê</h2>
            <button id="resumeGame">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
            <button id="restartGame">–ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
            <button id="quitGame">–í–´–ô–¢–ò –í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <div id="deathScreen" class="overlay-screen hidden">
        <div class="death-content">
            <h2 class="blood-text">‚ò†Ô∏è –í–´ –£–ú–ï–†–õ–ò ‚ò†Ô∏è</h2>
            <p>–°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω –ø–æ–π–º–∞–ª –≤–∞—Å...</p>
            <p>–í—ã —Å–æ–±—Ä–∞–ª–∏: <span id="deathPages">0</span> —Å—Ç—Ä–∞–Ω–∏—Ü</p>
            <p>–ñ–¥–∏—Ç–µ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑: <span id="respawnTimer">10</span>—Å</p>
            <button id="spectateBtn">–ù–ê–ë–õ–Æ–î–ê–¢–¨</button>
        </div>
    </div>

    <div id="winScreen" class="overlay-screen hidden">
        <div class="win-content">
            <h2 class="win-text">üèÜ –ü–û–ë–ï–î–ê! üèÜ</h2>
            <p>–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–±—Ä–∞–Ω—ã!</p>
            <p>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: <span id="winnerName">–ò–≥—Ä–æ–∫</span></p>
            <button id="playAgainBtn">–ò–ì–†–ê–¢–¨ –°–ù–û–í–ê</button>
            <button id="backToMenuBtn">–í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <div id="errorModal" class="modal hidden">
        <div class="modal-content">
            <h3>–û–®–ò–ë–ö–ê</h3>
            <p id="errorMessage">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
            <button id="closeError">OK</button>
        </div>
    </div>

    <!-- PeerJS –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="game.js"></script>
</body>
</html>
