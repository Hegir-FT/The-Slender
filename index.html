<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slenderman Horror - P2P Pixel Multiplayer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëª</text></svg>">
</head>
<body>
    <div id="startScreen">
        <div class="title-container">
            <h1 class="pixel-text">SLENDERMAN HORROR</h1>
            <div class="subtitle">P2P –ü–∏–∫—Å–µ–ª—å–Ω—ã–π –•–æ—Ä—Ä–æ—Ä</div>
        </div>
        
        <div class="menu-container">
            <div class="input-group">
                <label for="playerName">–í–ê–®–ï –ò–ú–Ø:</label>
                <input type="text" id="playerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" maxlength="20" value="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å">
            </div>
            
            <div class="room-group">
                <label for="roomCode">–ö–û–î –ö–û–ú–ù–ê–¢–´:</label>
                <div class="room-input">
                    <input type="text" id="roomCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º" maxlength="6">
                    <button id="joinRoom">–ü–†–ò–°–û–ï–î–ò–ù–ò–¢–¨–°–Ø</button>
                </div>
                <button id="createRoom">–°–û–ó–î–ê–¢–¨ –ù–û–í–£–Æ –ö–û–ú–ù–ê–¢–£</button>
            </div>
            
            <div id="roomInfo" class="hidden">
                <p>–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã: <span id="roomIdDisplay">XXXXXX</span></p>
                <button id="copyLink" class="copy-btn">
                    üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –¥—Ä—É–∑–µ–π
                </button>
                <p class="small-text">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º, —á—Ç–æ–±—ã –æ–Ω–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å</p>
            </div>
            
            <button id="startButton" class="start-btn">–ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
        </div>
        
        <div class="instructions">
            <h3>üéÆ –£–ü–†–ê–í–õ–ï–ù–ò–ï:</h3>
            <p>‚Ä¢ WASD –∏–ª–∏ —Å—Ç—Ä–µ–ª–∫–∏ - –¥–≤–∏–∂–µ–Ω–∏–µ</p>
            <p>‚Ä¢ Enter - –æ—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</p>
            <p>‚Ä¢ Esc - –ø–∞—É–∑–∞</p>
            
            <h3>üéØ –¶–ï–õ–¨:</h3>
            <p>‚Ä¢ –°–æ–±–µ—Ä–∏—Ç–µ 8 —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø–æ–±–µ–¥—ã</p>
            <p>‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω–∞</p>
            <p>‚Ä¢ –†–∞–±–æ—Ç–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏</p>
            
            <h3>‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï:</h3>
            <p class="warning">–ò–≥—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –≤–Ω–µ–∑–∞–ø–Ω—ã–µ –ø—É–≥–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã!</p>
        </div>
        
        <div class="loading hidden" id="loading">
            <div class="spinner"></div>
            <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ P2P —Å–µ—Ç–∏...</p>
        </div>
    </div>

    <div id="gameContainer" class="hidden">
        <div class="game-header">
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">–ò–ì–†–û–ö–ò:</span>
                    <span id="playerCount" class="stat-value">1</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–°–¢–†–ê–ù–ò–¶–´:</span>
                    <span id="pageCount" class="stat-value">0/8</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ü–ò–ù–ì:</span>
                    <span id="ping" class="stat-value">-</span>
                </div>
            </div>
            
            <div class="room-info">
                <span>–ö–û–ú–ù–ê–¢–ê: <span id="gameRoomId">XXXXXX</span></span>
                <button id="leaveGame" class="small-btn">–ü–æ–∫–∏–Ω—É—Ç—å</button>
            </div>
        </div>
        
        <div class="game-wrapper">
            <canvas id="gameCanvas"></canvas>
            
            <div class="side-panel">
                <div class="player-list-container">
                    <h3>üë• –ò–ì–†–û–ö–ò –û–ù–õ–ê–ô–ù</h3>
                    <div id="playerList" class="player-list">
                        <div class="player-item">
                            <div class="player-color" style="background: #ff5555"></div>
                            <span>–í—ã (Host)</span>
                            <span class="pages">[0/8]</span>
                        </div>
                    </div>
                </div>
                
                <div class="chat-container">
                    <h3>üí¨ –ß–ê–¢</h3>
                    <div id="chatMessages" class="chat-messages">
                        <div class="system-msg">–°–∏—Å—Ç–µ–º–∞: –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!</div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." maxlength="100">
                        <button id="sendChat" class="send-btn">–û—Ç–ø—Ä.</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="slendermanWarning" class="warning-overlay hidden">
            <div class="warning-content">
                <h2 class="blink">‚ö†Ô∏è –°–õ–ï–ù–î–ï–†–ú–ï–ù –ë–õ–ò–ó–ö–û! ‚ö†Ô∏è</h2>
                <p>–û–Ω –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç...</p>
            </div>
        </div>
        
        <div id="staticEffect" class="static-overlay hidden"></div>
        
        <div id="pauseMenu" class="pause-menu hidden">
            <h2>–ü–ê–£–ó–ê</h2>
            <button id="resumeGame">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
            <button id="restartGame">–ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
            <button id="quitGame">–í–´–ô–¢–ò –í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <div id="deathScreen" class="overlay-screen hidden">
        <div class="death-content">
            <h2 class="blood-text">‚ò†Ô∏è –í–´ –£–ú–ï–†–õ–ò ‚ò†Ô∏è</h2>
            <p>–°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω –ø–æ–π–º–∞–ª –≤–∞—Å...</p>
            <p>–í—ã —Å–æ–±—Ä–∞–ª–∏: <span id="deathPages">0</span> —Å—Ç—Ä–∞–Ω–∏—Ü</p>
            <p>–ñ–¥–∏—Ç–µ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑: <span id="respawnTimer">10</span>—Å</p>
            <button id="spectateBtn">–ù–ê–ë–õ–Æ–î–ê–¢–¨</button>
        </div>
    </div>

    <div id="winScreen" class="overlay-screen hidden">
        <div class="win-content">
            <h2 class="win-text">üèÜ –ü–û–ë–ï–î–ê! üèÜ</h2>
            <p>–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–±—Ä–∞–Ω—ã!</p>
            <p>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: <span id="winnerName">–ò–≥—Ä–æ–∫</span></p>
            <button id="playAgainBtn">–ò–ì–†–ê–¢–¨ –°–ù–û–í–ê</button>
            <button id="backToMenuBtn">–í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <div id="errorModal" class="modal hidden">
        <div class="modal-content">
            <h3>–û–®–ò–ë–ö–ê</h3>
            <p id="errorMessage">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
            <button id="closeError">OK</button>
        </div>
    </div>

    <!-- PeerJS –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="game.js"></script>

<!-- –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
<div id="mobileControls" class="mobile-controls hidden">
    <!-- –õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è -->
    <div class="joystick-container left">
        <div class="joystick-background"></div>
        <div class="joystick-handle"></div>
    </div>
    
    <!-- –ü—Ä–∞–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="action-buttons">
        <button id="pauseMobile" class="action-btn pause-btn">‚è∏</button>
        <button id="chatMobile" class="action-btn chat-btn">üí¨</button>
        <button id="runMobile" class="action-btn run-btn">‚ö°</button>
        <button id="interactMobile" class="action-btn interact-btn">üîÑ</button>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ —á–∞—Ç–∞ -->
    <div class="quick-chat hidden">
        <button class="quick-chat-btn" data-msg="–ü–æ–º–æ–≥–∏—Ç–µ!">–ü–æ–º–æ–≥–∏—Ç–µ!</button>
        <button class="quick-chat-btn" data-msg="–°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω —Ä—è–¥–æ–º!">–°–ª–µ–Ω–¥–µ—Ä–º–µ–Ω!</button>
        <button class="quick-chat-btn" data-msg="–ù–∞—à–µ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É">–ù–∞—à–µ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
        <button class="quick-chat-btn" data-msg="–ò–¥—É –∫ –≤–∞–º">–ò–¥—É –∫ –≤–∞–º</button>
    </div>
</div>

<!-- –û–≤–µ—Ä–ª–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —á–∞—Ç–∞ -->
<div id="virtualKeyboard" class="virtual-keyboard hidden">
    <div class="keyboard-container">
        <div class="keyboard-row">
            <button class="key">1</button>
            <button class="key">2</button>
            <button class="key">3</button>
            <button class="key">4</button>
            <button class="key">5</button>
            <button class="key">6</button>
            <button class="key">7</button>
            <button class="key">8</button>
            <button class="key">9</button>
            <button class="key">0</button>
        </div>
        <div class="keyboard-row">
            <button class="key">–π</button>
            <button class="key">—Ü</button>
            <button class="key">—É</button>
            <button class="key">–∫</button>
            <button class="key">–µ</button>
            <button class="key">–Ω</button>
            <button class="key">–≥</button>
            <button class="key">—à</button>
            <button class="key">—â</button>
            <button class="key">–∑</button>
            <button class="key">—Ö</button>
            <button class="key">—ä</button>
        </div>
        <div class="keyboard-row">
            <button class="key">—Ñ</button>
            <button class="key">—ã</button>
            <button class="key">–≤</button>
            <button class="key">–∞</button>
            <button class="key">–ø</button>
            <button class="key">—Ä</button>
            <button class="key">–æ</button>
            <button class="key">–ª</button>
            <button class="key">–¥</button>
            <button class="key">–∂</button>
            <button class="key">—ç</button>
        </div>
        <div class="keyboard-row">
            <button class="key shift">‚áß</button>
            <button class="key">—è</button>
            <button class="key">—á</button>
            <button class="key">—Å</button>
            <button class="key">–º</button>
            <button class="key">–∏</button>
            <button class="key">—Ç</button>
            <button class="key">—å</button>
            <button class="key">–±</button>
            <button class="key">—é</button>
            <button class="key backspace">‚å´</button>
        </div>
        <div class="keyboard-row">
            <button class="key space">–ü–†–û–ë–ï–õ</button>
            <button class="key enter">‚Üµ</button>
        </div>
    </div>
</div>

<!-- –¢—É—Ç–æ—Ä–∏–∞–ª –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
<div id="mobileTutorial" class="mobile-tutorial hidden">
    <div class="tutorial-content">
        <h3>üì± –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
        <div class="tutorial-item">
            <div class="tutorial-icon joystick-icon"></div>
            <p>–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –¥–≤–∏–∂–µ–Ω–∏–µ</p>
        </div>
        <div class="tutorial-item">
            <div class="tutorial-icon run-icon">‚ö°</div>
            <p>–ú–æ–ª–Ω–∏—è - –±–µ–≥ (—É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ)</p>
        </div>
        <div class="tutorial-item">
            <div class="tutorial-icon chat-icon">üí¨</div>
            <p>–ß–∞—Ç - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</p>
        </div>
        <div class="tutorial-item">
            <div class="tutorial-icon pause-icon">‚è∏</div>
            <p>–ü–∞—É–∑–∞ - –º–µ–Ω—é –∏–≥—Ä—ã</p>
        </div>
        <button id="closeTutorial" class="tutorial-btn">–ü–æ–Ω—è—Ç–Ω–æ!</button>
    </div>
</div>
    
</body>
</html>
